<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>sultanov.uz</title>
<meta name="description" content="Личный сайт Азиза — контактная страница" />

<style>
  :root{
    --bg:#0f1724;
    --card:#0b1220;
    --muted:#9aa4b2;
    --accent:#7dd3fc;
    --text:#e6eef6;
    --radius:14px;
    --maxw:680px;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:linear-gradient(180deg,#071022 0%, #0b1220 100%);
    color:var(--text);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:32px;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .wrap{
    width:100%;
    max-width:var(--maxw);
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
    border-radius:var(--radius);
    padding:24px;
    box-shadow: 0 6px 30px rgba(2,6,23,0.6);
  }

  header{
    display:flex;
    gap:14px;
    align-items:center;
  }
  .avatar{
    width:64px; height:64px; border-radius:12px;
    background:linear-gradient(135deg,var(--accent),#60a5fa);
    display:flex; align-items:center; justify-content:center;
    color:#082032; font-weight:700; font-size:20px;
  }

  h1{margin:0; font-size:20px; letter-spacing:-0.02em}
  .subtitle{color:var(--muted); margin-top:6px; font-size:14px}

  .card{
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.02));
    padding:18px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,0.03);
    margin-top:18px;
  }

  .hint{font-size:13px; color:var(--muted); line-height:1.4}

  form{display:flex; flex-direction:column; gap:12px}
  label{font-size:13px; color:var(--muted)}
  input[type="text"], input[type="email"], textarea{
    width:100%;
    padding:10px 12px;
    border-radius:8px;
    border:1px solid rgba(255,255,255,0.03);
    background:transparent;
    color:var(--text);
    outline:none;
    font-size:14px;
    resize:vertical;
  }
  textarea{min-height:120px;}

  .actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
  button{
    background:var(--accent);
    color:#042032;
    border:none;
    padding:10px 14px;
    border-radius:10px;
    font-weight:600;
    cursor:pointer;
    box-shadow:0 6px 14px rgba(125,211,252,0.12);
  }
  button.secondary{
    background:transparent;
    color:var(--muted);
    border:1px solid rgba(255,255,255,0.03);
  }
  .status{
    font-size:13px;
    color:#bfefff;
    flex:1;
  }

  footer{
    margin-top:20px;
    color:var(--muted);
    font-size:13px;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
</style>
</head>

<body>
  <main class="wrap">
    <header>
      <div class="avatar">А</div>
      <div>
        <h1>Азиз — личный сайт</h1>
        <div class="subtitle">email: lr5816yq0@mozmail.com</div>
      </div>
    </header>

    <section class="card">
      <p style="margin:0 0 10px 0;">Этот домен используется для личной электронной почты и быстрой связи.</p>
    </section>

    <section class="card">
      <h2 style="margin-top:0">Написать сообщение</h2>
      <form id="contactForm" novalidate>
        <div>
          <label for="name">Имя</label>
          <input id="name" type="text" placeholder="Ваше имя" required />
        </div>

        <div>
          <label for="email">Email</label>
          <input id="email" type="email" placeholder="you@example.com" required />
        </div>

        <div>
          <label for="message">Сообщение</label>
          <textarea id="message" placeholder="Короткое сообщение" required></textarea>
        </div>

        <div class="actions">
          <button id="sendBtn" type="submit">Отправить</button>
          <button id="mailtoBtn" type="button" class="secondary">Открыть почту</button>
          <div class="status" id="formStatus"></div>
        </div>
      </form>
    </section>

    <footer>
      <div>Email: <a href="mailto:lr5816yq0@mozmail.com" style="color:var(--accent);text-decoration:none">lr5816yq0@mozmail.com</a></div>
      <div>© sultanov.uz</div>
    </footer>
  </main>

<script>
(function(){
  const form = document.getElementById('contactForm');
  const status = document.getElementById('formStatus');
  const mailtoBtn = document.getElementById('mailtoBtn');

  function buildMailto(name,email,message){
    const s = encodeURIComponent("Сообщение с личного сайта");
    const b = encodeURIComponent(`Имя: ${name}\nEmail: ${email}\n\n${message}`);
    return `mailto:lr5816yq0@mozmail.com?subject=${s}&body=${b}`;
  }

  mailtoBtn.addEventListener('click',()=>{
    const n = document.getElementById('name').value.trim();
    const e = document.getElementById('email').value.trim();
    const m = document.getElementById('message').value.trim();
    window.location.href = buildMailto(n,e,m);
  });

  form.addEventListener('submit', async (ev)=>{
    ev.preventDefault();
    status.textContent = "Отправка…";

    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();
    const msg = document.getElementById('message').value.trim();

    if(!name || !email || !msg){
      status.textContent = "Заполните все поля.";
      return;
    }

    try{
      const resp = await fetch('/api/send', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify({name,email,message:msg})
      });

      if(resp.ok){
        status.textContent = "Отправлено!";
        form.reset();
      } else throw new Error("server");
    } catch{
      status.textContent = "Сервер недоступен. Открываю почтовый клиент…";
      setTimeout(()=>window.location.href = buildMailto(name,email,msg),500);
    }
  });
})();
</script>
</body>
</html>
